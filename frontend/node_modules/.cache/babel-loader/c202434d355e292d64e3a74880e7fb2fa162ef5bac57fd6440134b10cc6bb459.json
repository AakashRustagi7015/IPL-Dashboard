{"ast":null,"code":"import{React,useEffect,useState}from'react';import{useParams,Link}from'react-router-dom';import{MatchDetailCard}from'../components/MatchDetailCard';import{MatchSmallCard}from'../components/MatchSmallCard';import'./TeamPage.css';import{PieChart}from'react-minimal-pie-chart';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const TeamPage=()=>{const[team,setTeam]=useState({latestMatches:[]});const{teamName}=useParams();const[years,setYears]=useState([]);useEffect(()=>{const fetchMatches=async()=>{const response=await fetch(`http://localhost:8080/team/getTeam/${teamName}`);const data=await response.json();setTeam(data);console.log(data);};fetchMatches();},[teamName]);useEffect(()=>{const fetchYear=async()=>{const fetchData=await fetch(\"http://localhost:8080/getYears\");const data=await fetchData.json();console.log(data);setYears(data);};fetchYear();},[]);if(!team||!team.teamName){return/*#__PURE__*/_jsx(\"h1\",{children:\"Team not found\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"TeamPage\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"team-name-section\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"team-name\",children:team.teamName})}),/*#__PURE__*/_jsxs(\"div\",{className:\"win-loss-section\",children:[\"Wins / Losses\",/*#__PURE__*/_jsx(PieChart,{data:[{title:'Losses',value:team.totalLoss,color:'#a34d5d'},{title:'Wins',value:team.totalWin,color:'#4da375'}]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"detail-section\",children:/*#__PURE__*/_jsx(MatchDetailCard,{teamName:teamName,match:team.latestMatches[0]})}),team.latestMatches.slice(1).map(match=>/*#__PURE__*/_jsx(MatchSmallCard,{match:match,teamName:teamName},match.id)),/*#__PURE__*/_jsx(\"div\",{className:\"more-section\",children:/*#__PURE__*/_jsxs(Link,{to:`/teams/${teamName}/${years[years.length-1]}`,children:[\"More\",'>',\" \"]})})]});};","map":{"version":3,"names":["React","useEffect","useState","useParams","Link","MatchDetailCard","MatchSmallCard","PieChart","jsx","_jsx","jsxs","_jsxs","TeamPage","team","setTeam","latestMatches","teamName","years","setYears","fetchMatches","response","fetch","data","json","console","log","fetchYear","fetchData","children","className","title","value","totalLoss","color","totalWin","match","slice","map","id","to","length"],"sources":["/home/aakash/IPL-Dashboard/frontend/src/pages/TeamPage.js"],"sourcesContent":["import { React, useEffect, useState } from 'react';\nimport { useParams,Link } from 'react-router-dom';\nimport { MatchDetailCard } from '../components/MatchDetailCard';\nimport { MatchSmallCard } from '../components/MatchSmallCard';\nimport './TeamPage.css';\nimport { PieChart } from 'react-minimal-pie-chart';\nexport const TeamPage=()=> {\n  const [team, setTeam] = useState({ latestMatches: [] })\n  const { teamName } = useParams()\n  const [years, setYears] = useState([]);\n\n  useEffect(\n    () => {\n    const fetchMatches = async () => {\n      const response = await fetch(`http://localhost:8080/team/getTeam/${teamName}` )\n      const data = await response.json()\n      setTeam(data)\n      console.log(data)\n    };\n    fetchMatches();\n    }, [teamName]\n  );\n  \n\n  useEffect(() => {\n    const fetchYear = async () => {\n      const fetchData = await fetch(\"http://localhost:8080/getYears\")\n      const data = await fetchData.json();\n      console.log(data)\n      setYears(data);\n    };\n    fetchYear();\n  }, []\n  );\n  \n  if (!team || !team.teamName) {\n    return <h1>Team not found</h1>\n  } \n  return (\n    <div className=\"TeamPage\">\n      <div className=\"team-name-section\">\n        <h1 className='team-name'>{team.teamName}</h1>\n      </div>\n      <div className='win-loss-section'>\n        Wins / Losses\n        <PieChart\n          data={[\n            { title: 'Losses', value: team.totalLoss, color: '#a34d5d' },\n            { title: 'Wins', value: team.totalWin, color: '#4da375' },\n          ]}\n        />\n      </div>\n      <div className=\"detail-section\">\n        { /*<h3>Latest Matches</h3>*/}\n        <MatchDetailCard teamName={teamName} match={team.latestMatches[0]} />\n      </div>\n      {team.latestMatches.slice(1).map(match => <MatchSmallCard key={ match.id} match={match} teamName={teamName} />)}\n      <div className=\"more-section\">\n        <Link to={`/teams/${teamName}/${years[years.length-1]}`} >More{'>'} </Link>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}